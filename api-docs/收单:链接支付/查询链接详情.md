# 查询链接详情 (Query Payment Link Details)

## Endpoint
```
POST https://pay-gate-uat.payermax.com/aggregate-pay/api/gateway/queryPaybylink
```

## Interface Name
`queryPaybylink`

## Request Headers

| Parameter | Type | Required | Description | Example |
|-----------|------|----------|-------------|---------|
| Content-Type | string | required | - | application/json |
| sign | string | required | 签名信息请参考技术文档 | FPFVT3o227JrFRbqu19boZCpVVTF9KznxyRawUmxpfXilHV/0yK46haPhAjNu1hPUMy7Vw/ILXhfzffNm4Fj0apWknlTY9OJxnSoQxS9BTFtc61tn5yV1q69x/kkBl82/qwg+XTJ4fOzy7Mar3VaC1E2PlDA6RkkKBUyNE6RYgsdB+Su7an4+4HVTNAnoe74WyvBgxTLMNg28igBTdqxaO3w/UBY6ObVp7vkqkQGdL1Y+HgmMYaAVwrM3+ALWGId0sJ+YqTY4WJ+0xCRGhaSnybiIjZsQEYyID68WNUfuavDLDsEhaMm/HfQvf5p0R1Ltovp3wwJnEbQcjY458iX5A== |

## Request Body

**Content-Type:** `application/json`

| Parameter | Type | Required | Description | Constraints |
|-----------|------|----------|-------------|-------------|
| version | string | required | 接口版本 当前值为：1.1 | <= 8 characters |
| keyVersion | string | required | 密钥版本 当前值为：1 | <= 8 characters |
| requestTime | string | required | 请求时间，符合rfc3339规范，格式：yyyy-MM-dd'T'HH:mm:ss.SSSXXX 时间需要在当前时间两分钟内 | <= 32 characters |
| appId | string | required | 商户应用Id，PayerMax分配给商户应用的唯一标识 | <= 64 characters |
| merchantNo | string | optional | 商户号，商户与PayerMax业务签约时生成的唯一标识 | <= 32 characters |
| data | object | required | 请求数据体 | - |

### data Object

| Parameter | Type | Required | Description | Constraints |
|-----------|------|----------|-------------|-------------|
| merchantLinkId | string | required | 商户链接唯一订单号 | <= 64 characters |

## Response

### 200 OK

**Content-Type:** `application/json`

| Parameter | Type | Required | Description | Constraints |
|-----------|------|----------|-------------|-------------|
| code | string | required | 返回码，'APPLY_SUCCESS'代表成功 | - |
| msg | string | required | 返回描述，'Success.' | - |
| data | object | optional | 返回数据体 | - |

### data Object

| Parameter | Type | Required | Description | Constraints |
|-----------|------|----------|-------------|-------------|
| linkId | string | required | PMmax链接唯一单号 | <= 64 characters |
| merchantLinkId | string | required | 商户链接唯一订单号 | <= 64 characters |
| totalAmount | string | required | 商户传入的订单金额，金额的单位为元。除以下国家外，按照各国币种支持的小数点位上送。注意：巴林、科威特、约旦、阿曼、突尼斯，本币只支持两位小数；印尼、中国台湾、韩国、越南、智利、巴基斯坦、哥伦比亚、日本、冰岛、巴拉圭，本币不支持带小数金额。 | <= 24 characters |
| country | string | required | 国家代码，大写字母，如果所传的国家代码与币种不匹配，则以货币代码对应的地区展示收银台。如指定了支付方式，则国家必须上送。参见【交易支持国家/地区与币种】 | <= 2 characters |
| currency | string | required | 币种代码，大写字母，参见【交易支持国家/地区与币种】 | <= 3 characters |
| linkStatus | string | required | 链接状态 | <= 16 characters, Allowed: ACTIVE, EXPIRED |
| expiresAt | string | required | 链接具体失效时间 | <= 32 characters |
| linkUrl | string | required | PayByLink url | <= 256 characters |
| qrCodeUrl | string | required | PayByLink QRcode url | <= 256 characters |
| description | string | required | 订单描述，在链接页面展示给用户 | <= 256 characters |
| linkDescription | string | optional | 链接描述，不展示给用户，用于商户备注 | <= 256 characters |
| payByLinkInfo | array[object] | optional | 链接单的交易详情结构体 | - |
| goodsDetails | array[object] | optional | 商品信息，支持传多个。电商场景下尽量上送 | - |

**Example Response:**
```json
{
  "code": "APPLY_SUCCESS",
  "msg": "Success.",
  "data": {
    "linkId": "pm_link_123456",
    "merchantLinkId": "merchant_link_001",
    "totalAmount": "100.00",
    "country": "US",
    "currency": "USD",
    "linkStatus": "ACTIVE",
    "expiresAt": "2025-01-08T13:15:90.386Z",
    "linkUrl": "https://pay.payermax.com/link/...",
    "qrCodeUrl": "https://pay.payermax.com/qr/...",
    "description": "Order description",
    "linkDescription": "Internal note",
    "payByLinkInfo": [],
    "goodsDetails": []
  }
}
```
