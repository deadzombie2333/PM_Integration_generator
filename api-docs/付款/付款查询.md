# 付款查询

## 接口信息

**请求方式:** POST

**请求地址:** `https://pay-gate-uat.payermax.com/aggregate-pay/api/gateway/paymentOrderQry`

**接口说明:** 此接口为API付款查询接口,该接口返回参数请注意以下事项,否则可能会有资损风险:

- 当`"code": "APPLY_SUCCESS"`且返回status,代表查询成功,订单状态请以status为准
- 当`"code": "ORDER_NOT_EXIST"`且间隔(5min)查询多次后返回一样,可不换outTradeNo重新下单
- 其他场景请检查参数后,可重新查询,注意重新设置requestTime

## Request

### Headers

| 参数名 | 类型 | 必填 | 说明 | 示例值 |
|--------|------|------|------|--------|
| Content-Type | string | 是 | 内容类型 | application/json |
| sign | string | 是 | 签名信息,请参考技术文档 | FPFVT3o227JrFRbqu19boZCpVVTF9KznxyRawUmxpfXilHV/0yK46haPhAjNu1hPUMy7Vw/ILXhfzffNm4Fj0apWknlTY9OJxnSoQxS9BTFtc61tn5yV1q69x/kkBl82/qwg+XTJ4fOzy7Mar3VaC1E2PlDA6RkkKBUyNE6RYgsdB+Su7an4+4HVTNAnoe74WyvBgxTLMNg28igBTdqxaO3w/UBY6ObVp7vkqkQGdL1Y+HgmMYaAVwrM3+ALWGId0sJ+YqTY4WJ+0xCRGhaSnybiIjZsQEYyID68WNUfuavDLDsEhaMm/HfQvf5p0R1Ltovp3wwJnEbQcjY458iX5A== |

### Body (application/json)

| 参数名 | 类型 | 必填 | 说明 | 限制 |
|--------|------|------|------|------|
| version | string | 是 | 接口版本,当前版本1.4 | <= 8 characters |
| keyVersion | string | 是 | 密钥版本,当前版本1 | <= 8 characters |
| requestTime | string | 是 | 请求时间,符合rfc3339规范,格式:yyyy-MM-dd'T'HH:mm:ss.SSSXXX | <= 32 characters |
| appId | string | 是 | 商户应用ID,PayerMax分配给商户应用的唯一标识 | <= 64 characters |
| merchantNo | string | 否 | 商户号,商户与PayerMax业务签约时生成的唯一标识 | <= 32 characters |
| data | object | 是 | 请求数据体 | - |

#### data 对象

| 参数名 | 类型 | 必填 | 说明 | 限制 |
|--------|------|------|------|------|
| outTradeNo | string | 是 | 原商户订单号 | <= 63 characters |

## Response

### 200 成功响应

#### Body (application/json)

| 参数名 | 类型 | 必填 | 说明 | 限制 |
|--------|------|------|------|------|
| code | string | 是 | 返回码,APPLY_SUCCESS代表成功。只代表接口请求成功,不代表订单状态 | - |
| msg | string | 是 | 返回描述,'Success.' | - |
| data | object | 是 | 返回数据体 | - |

#### data 对象

| 参数名 | 类型 | 必填 | 说明 | 限制 |
|--------|------|------|------|------|
| outTradeNo | string | 否 | 商户订单号 | <= 64 characters |
| tradeNo | string | 否 | PayerMax交易流水号 | - |
| status | string | 否 | 交易状态,SUCCESS成功, FAILED失败 ,PENDING进行中,BOUNCEBACK退票 | <= 32 characters |
| subStatus | string | 否 | 交易子状态, 当订单交易状态为PENDING时,PayerMax将提供子状态,展示交易处理进度,具体枚举值请参考:【交易子状态介绍】。未返回可联系技术支持升级 | - |
| notifyEmail | string | 否 | 通知邮箱 | - |
| notifyPhone | string | 否 | 通知电话 | - |
| responseCode | string | 否 | 订单失败错误码,详见【错误码】 | - |
| responseMsg | string | 否 | 订单失败错误码描述 | - |
| reference | string | 否 | 附加数据,上送的值 | - |
| redeemCode | string | 否 | 1.FAWRY取款码,2.运营商充值PIN码 | - |
| expiryTime | string | 否 | 订单过期时间,符合rfc3339规范,格式:yyyy-MM-dd'T'HH:mm:ss Z | - |
| bounceBackTime | string | 否 | 退票时间,符合rfc3339规范,格式:yyyy-MM-dd'T'HH:mm:ss Z | - |
| transactionUtcTime | string | 是 | 交易创建时间,符合rfc3339规范,格式:yyyy-MM-dd'T'HH:mm:ss Z | <= 32 characters |
| fundsFreezeTime | string | 否 | 资金动账时间,符合rfc3339规范,格式:yyyy-MM-dd'T'HH:mm:ss Z | - |
| fundsReturnTime | string | 否 | 资金返还时间,符合rfc3339规范,格式:yyyy-MM-dd'T'HH:mm:ss Z | - |
| payFinishTime | string | 否 | 交易完成时间,符合rfc3339规范,格式:yyyy-MM-dd'T'HH:mm:ss Z | - |
| trade | object | 是 | 交易信息 | - |
| source | object | 是 | 付款信息(商户) | - |
| destination | object | 是 | 收款信息(用户) | - |
| additionalIdentifier | object | 否 | 交易附加信息,出款回调升级到3.0版本以上,才会返回该字段。如有需求,可以联系PayerMax技术支持进行调整 | - |
