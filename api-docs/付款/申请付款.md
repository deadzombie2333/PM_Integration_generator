# 申请付款

## 接口信息

**请求方式:** POST

**请求地址:** `https://pay-gate-uat.payermax.com/aggregate-pay/api/gateway/paymentOrderPay`

**接口说明:** 此接口为API付款接口,该接口返回参数请注意以下事项,否则可能会有资损风险:

- 当`"code": "APPLY_SUCCESS"`且返回`"status":"PENDING"`,代表下单成功,订单状态请以回调或查询接口status为准
- 当`"code": "ORDER_REPEAT"`,代表该outTradeNo已经下过单,请等待回调或查询接口确认订单状态,每次下单需确保outTradeNo唯一
- 其他场景请检查参数后不换outTradeNo重新发起,注意重新设置requestTime

## Request

### Headers

| 参数名 | 类型 | 必填 | 说明 | 示例值 |
|--------|------|------|------|--------|
| Content-Type | string | 是 | 内容类型 | application/json |
| sign | string | 是 | 签名信息,请参考技术文档 | FPFVT3o227JrFRbqu19boZCpVVTF9KznxyRawUmxpfXilHV/0yK46haPhAjNu1hPUMy7Vw/ILXhfzffNm4Fj0apWknlTY9OJxnSoQxS9BTFtc61tn5yV1q69x/kkBl82/qwg+XTJ4fOzy7Mar3VaC1E2PlDA6RkkKBUyNE6RYgsdB+Su7an4+4HVTNAnoe74WyvBgxTLMNg28igBTdqxaO3w/UBY6ObVp7vkqkQGdL1Y+HgmMYaAVwrM3+ALWGId0sJ+YqTY4WJ+0xCRGhaSnybiIjZsQEYyID68WNUfuavDLDsEhaMm/HfQvf5p0R1Ltovp3wwJnEbQcjY458iX5A== |

### Body (application/json)

| 参数名 | 类型 | 必填 | 说明 | 限制 |
|--------|------|------|------|------|
| version | string | 是 | 接口版本,当前值为:1.4 | <= 8 characters |
| keyVersion | string | 是 | 密钥版本,当前值为:1 | <= 8 characters |
| requestTime | string | 是 | 请求时间,符合rfc3339规范,格式:yyyy-MM-dd'T'HH:mm:ss.SSSXXX 时间需要在当前时间两分钟内 | <= 32 characters |
| appId | string | 是 | 商户应用Id,PayerMax分配给商户应用的唯一标识 | <= 64 characters |
| merchantNo | string | 否 | 商户号,商户与PayerMax业务签约时生成的唯一标识 | <= 32 characters |
| data | object | 是 | 请求数据体 | - |

#### data 对象

| 参数名 | 类型 | 必填 | 说明 | 限制 |
|--------|------|------|------|------|
| outTradeNo | string | 是 | 商户订单号,唯一标识商户的一笔交易,不能重复,只能包含字母、数字、下划线 | <= 63 characters |
| country | string | 是 | 国家代码,大写字母,参见【支持的国家与币种】 | <= 2 characters |
| chargeOption | string | 否 | 费用承担模式,是否必传参照《付款申请模板及填写规范》 | - |
| clearingRail | string | 否 | 枚举值为:SWIFT, SEPA, LOCAL,分别对应签约的SWIFT、SEPA、Local Banks支付方式,请根据实际要用的支付方式来上送,请参照《付款申请模板及填写规范》 | - |
| userId | string | 否 | 商户内部的用户Id,需要保证每个ID唯一性 | <= 64 characters |
| sourceAccount | string | 否 | 扣款账户的币种代码,大写字母 | <= 3 characters |
| destinationCurrency | string | 否 | 指定到账币种,请参考【支付方式列表】,如有标明到账币种的,需要指定到账币种;若未标明,则到账币种仅支持本币,不需要进行指定 | <= 3 characters |
| trade | object | 是 | 交易信息 | - |
| payeeInfo | object | 是 | 收款方信息 | - |
| payerInfo | object | 否 | 付款方信息 | - |
| riskParams | object | 否 | 风控业务数据 | - |
| expiryDays | string | 否 | 取款码有效天数,当前仅在FawryCash中有效,支持传入1~15整数(1=24Hours),其他值或不传则默认为7 | - |
| remark | string | 否 | 出款附言或备注,允许英文,数字,中划线,空格,点;受渠道约束,该字段可能会进行特殊处理,如超长截断或填充默认值 | - |
| reference | string | 否 | 透传数据,在付款异步回调通知中原样返回,该字段主要用于商户携带订单的自定义数据 | <= 255 characters |
| notifyUrl | string | 否 | 商户接收付款结果的后台回调地址,以http/https开头 | <= 255 characters |
| notifyEmail | string | 否 | 收款方通知邮箱,目前只有个别支付方式会发送取款码邮件,比如FAWRY | <= 64 characters |
| notifyPhone | string | 否 | 收款方通知电话 | <= 64 characters |
| purpose | string | 否 | 出款目的,枚举值:ISUBIL(向公用事业提供商付款),EPTOUR(旅游业),EPTKAG(支付旅游门票或旅行社费用),ISPAYR(支付工资),ISPAYRA(支付代理工资),ISGDDS(货物买卖),ISSCVE(购买和销售服务),ISSUPP(供应商付款),ISLOGS(物流和运输服务付款),INCEN(激励/促销/用户获取活动),GAME(游戏设备、游戏币和其他游戏物品),SAMENM(企业同名账户转账),PAYCMSN(报销/福利发放/佣金发放),SAMENMC(法人/股东/董事个人账户),AGOPEXP(代运营费用结算),ADEXP(广告费用结算),RFND(退货),SMCNTST(子商户结算),LGTEP(供应商付款-物流费用结算),GOODPAY(供应商付款-货款结算),SINVEST(股票投资),FINVEST(基金投资),TAXPAY(纳税/支付税款),LOANPAY(支付贷款),OTHER(其他) | <= 32 characters |

## Response

### 200 成功响应

#### Body (application/json)

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| code | string | 是 | 返回码,APPLY_SUCCESS代表成功。只代表接口请求成功,不代表订单状态 |
| msg | string | 是 | 返回描述,'Success.' |
| data | object | 是 | 返回数据体 |

#### data 对象

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| outTradeNo | string | 是 | 商户订单号 |
| tradeNo | string | 是 | PayerMax交易流水号 |
| status | string | 是 | 交易状态 |
