# 案件查询 (Case Search)

## Endpoint
```
POST https://pay-gate-uat.payermax.com/aggregate-pay/api/gateway/caseSearch
```

## Request Headers

| Parameter | Type | Required | Description | Example |
|-----------|------|----------|-------------|---------|
| Content-Type | string | required | - | application/json |
| sign | string | required | 签名信息请参考技术文档 | FPFVT3o227JrFRbqu19boZCpVVTF9KznxyRawUmxpfXilHV/0yK46haPhAjNu1hPUMy7Vw/ILXhfzffNm4Fj0apWknlTY9OJxnSoQxS9BTFtc61tn5yV1q69x/kkBl82/qwg+XTJ4fOzy7Mar3VaC1E2PlDA6RkkKBUyNE6RYgsdB+Su7an4+4HVTNAnoe74WyvBgxTLMNg28igBTdqxaO3w/UBY6ObVp7vkqkQGdL1Y+HgmMYaAVwrM3+ALWGId0sJ+YqTY4WJ+0xCRGhaSnybiIjZsQEYyID68WNUfuavDLDsEhaMm/HfQvf5p0R1Ltovp3wwJnEbQcjY458iX5A== |

## Request Body

**Content-Type:** `application/json`

| Parameter | Type | Required | Description | Constraints |
|-----------|------|----------|-------------|-------------|
| version | string | required | 接口版本 当前值为：1.5 | - |
| keyVersion | string | required | 密钥版本 当前值为：1 | - |
| requestTime | string | required | 请求时间，符合rfc3339规范，格式：yyyy-MM-dd'T'HH:mm:ss.SSSXXX 时间需要在当前时间两分钟内 | - |
| appId | string | required | 商户应用Id，PayerMax分配给商户应用的唯一标识 | - |
| merchantNo | string | optional | 商户号，商户与PayerMax业务签约时生成的唯一标识 | - |
| spMerchantNo | string | optional | ISV服务商的商户号 | - |
| data | object | required | 案件信息 | - |

### data Object

| Parameter | Type | Required | Description | Constraints |
|-----------|------|----------|-------------|-------------|
| caseId | string | required | 案件编号 | <= 64 characters, Example: O20211118090801 |

**Example Request:**
```json
{
  "version": "1.5",
  "keyVersion": "1",
  "requestTime": "2025-01-07T13:15:90.386Z",
  "appId": "your_app_id",
  "merchantNo": "your_merchant_no",
  "data": {
    "caseId": "O20211118090801"
  }
}
```

## Response

### 200 OK

**Content-Type:** `application/json`

| Parameter | Type | Required | Description | Constraints |
|-----------|------|----------|-------------|-------------|
| code | string | required | 返回码，'APPLY_SUCCESS'代表成功 | - |
| msg | string | required | 返回描述，'Success.' | - |
| data | object | required | 案件信息 | - |

### data Object

| Parameter | Type | Required | Description | Constraints |
|-----------|------|----------|-------------|-------------|
| caseId | string | required | 案件编号 | <= 64 characters, Example: O20230427054733964285071111 |
| outTradeNo | string | required | 商户交易订单号 | <= 64 characters, Example: 20181112112606266846 |
| tradeToken | string | required | PayerMax交易流水号 | <= 64 characters, Example: TOKEN202206210021173856 |
| outUserId | string | required | 用户号 | <= 64 characters, Example: ZNW3e |
| status | string | required | 案件状态 | <= 32 characters, Example: DISPUTE_INQUIRY |
| amount | string | required | 案件实际冻结支付金额，按照各国币种支持的小数点位返回 | <= 20 characters, Example: 15.00 |
| fee | string | required | 案件冻结手续费，按照各国币种支持的小数点位返回 | <= 20 characters, Example: 10.00 |
| totalAmount | string | required | 案件实际冻结总金额，实际冻结金额+实际冻结手续费，按照各国币种支持的小数点位返回 | <= 20 characters, Example: 25.00 |
| currency | string or null | optional | 案件实际冻结币种 | <= 3 characters, Example: INR |
| originTradeAmount | string | required | 案件应冻金额，对应原始交易订单应冻结金额，按照各国币种支持的小数点位返回 | <= 20 characters, Example: 15.00 |
| originTradeCurrency | string | required | 案件应冻币种，对应原始交易订单应冻结币种 | <= 3 characters, Example: INR |
| retrievalDate | string | required | 商户调单发起日，格式：yyyy-MM-dd | <= 32 characters, Example: 2022-01-22 |
| expirationDate | string | required | 回复到期日，商户需在到期日前提交举证材料，格式：yyyy-MM-dd | <= 32 characters, Example: 2022-01-22 |
| tradeCreateTime | string | required | 交易创建时间，格式：yyyy-MM-dd'T'HH:mm:ss.SSSXXX | Example: 2022-01-22T10:00:00.500+08:00 |
| caseResult | string or null | optional | 案件结果，商户胜诉：WIN，商户败诉：FAIL | <= 32 characters, Example: WIN |
| batchId | string or null | optional | 案件批次号 | <= 64 characters, Example: P20210702104937 |

**Example Response:**
```json
{
  "code": "APPLY_SUCCESS",
  "msg": "Success.",
  "data": {
    "caseId": "O20230427054733964285071111",
    "outTradeNo": "20181112112606266846",
    "tradeToken": "TOKEN202206210021173856",
    "outUserId": "ZNW3e",
    "status": "DISPUTE_INQUIRY",
    "amount": "15.00",
    "fee": "10.00",
    "totalAmount": "25.00",
    "currency": "INR",
    "originTradeAmount": "15.00",
    "originTradeCurrency": "INR",
    "retrievalDate": "2022-01-22",
    "expirationDate": "2022-01-22",
    "tradeCreateTime": "2022-01-22T10:00:00.500+08:00",
    "caseResult": "WIN",
    "batchId": "P20210702104937"
  }
}
```
