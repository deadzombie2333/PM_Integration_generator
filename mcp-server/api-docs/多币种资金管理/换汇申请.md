# 换汇申请

## 接口信息

**请求方式:** POST

**请求地址:** `https://pay-gate-uat.payermax.com/aggregate-pay/api/gateway/exchange`

**接口说明:** 换汇功能用于将商户不同币种之间的可用余额进行换汇(当前仅支持其中一个币种为USD)。

## Request

### Headers

| 参数名 | 类型 | 必填 | 说明 | 示例值 |
|--------|------|------|------|--------|
| Content-Type | string | 是 | 内容类型 | application/json |
| sign | string | 是 | 签名信息,请参考技术文档 | FPFVT3o227JrFRbqu19boZCpVVTF9KznxyRawUmxpfXilHV/0yK46haPhAjNu1hPUMy7Vw/ILXhfzffNm4Fj0apWknlTY9OJxnSoQxS9BTFtc61tn5yV1q69x/kkBl82/qwg+XTJ4fOzy7Mar3VaC1E2PlDA6RkkKBUyNE6RYgsdB+Su7an4+4HVTNAnoe74WyvBgxTLMNg28igBTdqxaO3w/UBY6ObVp7vkqkQGdL1Y+HgmMYaAVwrM3+ALWGId0sJ+YqTY4WJ+0xCRGhaSnybiIjZsQEYyID68WNUfuavDLDsEhaMm/HfQvf5p0R1Ltovp3wwJnEbQcjY458iX5A== |

### Body (application/json)

| 参数名 | 类型 | 必填 | 说明 | 限制 |
|--------|------|------|------|------|
| version | string | 是 | 接口版本,当前值为:1.1 | - |
| keyVersion | string | 是 | 密钥版本,当前值为:1 | <= 8 characters |
| requestTime | string | 是 | 请求时间,符合rfc3339规范,格式:yyyy-MM-dd'T'HH:mm:ss.SSSXXX 时间需要在当前时间两分钟内 | <= 32 characters |
| appId | string | 是 | 商户应用Id,PayerMax分配给商户应用的唯一标识 | <= 64 characters |
| merchantNo | string | 否 | 商户号,商户与PayerMax业务签约时生成的唯一标识 | <= 32 characters |
| data | object | 是 | 请求数据体 | - |

#### data 对象

| 参数名 | 类型 | 必填 | 说明 | 限制 | 示例值 |
|--------|------|------|------|------|--------|
| ccyPair | string | 是 | 货币对 | >= 6 characters, <= 6 characters | USDINR |
| outTradeNo | string | 是 | 商户订单号 | >= 1 characters, <= 64 characters | TRANSNO001 |
| side | string | 是 | 针对交易货币的买卖方向,买入BUY,卖出SELL | - | BUY/SELL |
| transactionAmount | string | 是 | 交易货币金额 | <= 162 characters | 8888.88 |
| transactionCcy | string | 是 | 交易货币 | >= 3 characters, <= 3 characters | IDR |
| targetCcy | string | 是 | 目标币种 | >= 3 characters, <= 3 characters | IDR |
| rateVersion | string | 否 | 汇率版本,如果不输入则表示使用最近一次版本进行交易 | <= 64 characters | RateId1234 |

## Response

### 200 成功响应

#### Body (application/json)

| 参数名 | 类型 | 必填 | 说明 | 限制 | 示例值 |
|--------|------|------|------|------|--------|
| code | string | 是 | 返回码,'APPLY_SUCCESS'代表成功 | - | - |
| msg | string | 是 | 返回描述,'Success.' | - | - |
| data | object | 是 | 返回数据体 | - | - |

#### data 对象

| 参数名 | 类型 | 必填 | 说明 | 限制 | 示例值 |
|--------|------|------|------|------|--------|
| transactionCcy | string | 是 | 交易货币 | <= 3 characters | USD |
| side | string | 是 | 买卖方向 | <= 4 characters | BUY/SELL |
| tradeNo | string | 是 | 交易流水号 | <= 64 characters | ORDERO001 |
| targetAmount | string | 是 | 目标金额 | <= 133333200 characters | 16,2 |
| rateTime | string | 是 | 汇率时间,符合rfc3339规范,格式:yyyy-MM-dd'T'HH:mm:ss.SSSXXX | <= 13 characters | 2022-01-22T10:00:00.500+08:00 |
| completeTime | string | 是 | 完成时间,符合rfc3339规范,格式:yyyy-MM-dd'T'HH:mm:ss.SSSXXX | <= 32 characters | 2022-01-22T10:00:00.500+08:00 |
| errorCode | string | 是 | 错误码 | <= 32 characters | - |
| rateVersion | string | 是 | 汇率版本 | <= 64 characters | RateId1234 |
| targetCcy | string | 是 | 目标币种 | <= 3 characters | IDR |
| errorMsg | string | 是 | 错误信息 | <= 256 characters | - |
| ccyPair | string | 是 | 货币对 | <= 6 characters | USDINR |
| rate | string | 是 | 汇率 | <= 248 characters | 1.5 |
| outTradeNo | string | 是 | 商户订单号 | <= 64 characters | TRANSNO001 |
| transactionAmount | string | 是 | 交易金额 | <= 162 characters | 8888.88 |
| status | string | 是 | 状态 | <= 32 characters | INIT、PENDING、SUCCESS、FAILED |
