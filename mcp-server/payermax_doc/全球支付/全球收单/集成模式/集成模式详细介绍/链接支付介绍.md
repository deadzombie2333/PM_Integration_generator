# 链接支付介绍

链接支付（PayByLink）是一种基于互联网的支付方式，通常用于在线交易和线下转线上的支付场景，指商家通过生成支付链接发送给用户直接支付。

## 核心优点

### 便捷性
消费者无需访问商家网站，只需点击链接即可完成支付，操作简便。

### 灵活性
适用于各种支付场景，如社交电商、服务预约、捐款等，支持多种支付方式。

### 安全性
通过第三方支付平台进行支付，具备较高的安全性和防欺诈机制。

### 快速部署
商家无需复杂的技术集成，只需生成和发送链接即可实现支付功能。

## 1. 适用场景

### 1.1 线上场景

#### 个人电商
商家通过发送支付链接，方便顾客在线完成购物支付。

**应用示例：**
- 微商通过微信/WhatsApp发送支付链接
- 社交媒体电商直接分享支付链接
- 个人卖家通过邮件发送支付链接
- Instagram/Facebook商家分享产品链接

#### 服务预订
如酒店、机票、活动票等预订，商家可以发送支付链接收取定金或全款。

**应用示例：**
- 酒店预订确认邮件附带支付链接
- 活动报名后发送支付链接
- 旅游服务预订支付
- 课程培训费用收取

#### 账单支付
公用事业公司、保险公司等通过支付链接收款。

**应用示例：**
- 水电煤气账单支付
- 保险费用缴纳
- 物业管理费收取
- 会员费续费

#### 捐款和众筹
慈善组织和众筹平台使用支付链接，简化捐赠者的支付流程。

**应用示例：**
- 慈善机构募捐
- 个人众筹项目
- 紧急救助募款
- 公益活动捐赠

### 1.2 线下场景

#### COD行业（Cash on Delivery）
快递员送货上门时出示二维码给客户扫码支付。

**应用场景：**
- 货到付款转线上支付
- 快递员现场收款
- 减少现金交易风险
- 提高收款效率

#### 家庭维修/家政服务
服务提供者出示二维码给客户扫码支付。

**应用场景：**
- 维修工完成服务后收款
- 家政服务费用结算
- 上门服务即时支付
- 服务评价后付款

#### 儿童智能手表
用户在手表商城下单，系统生成支付链接并在手表屏幕展示动态二维码供用户扫码支付。

**应用场景：**
- 智能设备内购
- 小屏幕设备支付
- 家长扫码支付
- IoT设备支付

#### 线下集市
商家在PC、平板、手机等设备展示链接支付二维码，供消费者扫码支付。

**应用场景：**
- 农贸市场摊位收款
- 跳蚤市场交易
- 展会现场销售
- 临时摊位收款

#### 路演募捐
募捐者出示二维码给捐款者扫码支付。

**应用场景：**
- 街头募捐活动
- 校园募捐
- 公益路演
- 现场捐款收集

## 2. 业务流程

```
商家创建支付链接
    ↓
生成链接URL和二维码
    ↓
发送给用户（线上分享链接 / 线下展示二维码）
    ↓
用户访问链接（点击链接 / 扫描二维码）
    ↓
进入商品详情中间页
    ↓
点击Checkout按钮
    ↓
进入PayerMax收银台
    ↓
选择支付方式
    ↓
完成支付
    ↓
返回支付结果页
    ↓
商家接收支付通知
```

## 3. 用户体验

用户通过访问商家提供的链接（线上直接访问链接，或线下使用手机相机扫描链接二维码）进入商品详情中间页，点击Checkout进入收银台，然后在收银台选择支付方式，按照页面指引完成支付并返回支付结果页。

### 用户操作流程

**线上场景：**
1. 收到支付链接（短信/邮件/社交媒体）
2. 点击链接打开支付页面
3. 查看订单详情
4. 点击Checkout
5. 选择支付方式
6. 完成支付
7. 查看支付结果

**线下场景：**
1. 使用手机相机扫描二维码
2. 自动打开支付页面
3. 查看订单详情
4. 点击Checkout
5. 选择支付方式
6. 完成支付
7. 查看支付结果

### 页面展示内容

**商品详情页：**
- 商品名称/订单描述
- 订单金额
- 币种信息
- 商家Logo
- Checkout按钮

**收银台页面：**
- 订单摘要
- 支付方式列表
- 支付金额确认
- 支付按钮

**结果页面：**
- 支付状态（成功/失败）
- 订单信息
- 交易流水号
- 返回商家按钮

## 4. 链接创建方式

### 4.1 商户后台创建

目前PayerMax允许商户通过商户后台（MMC）创建一次性支付链接并生成二维码。

#### 操作路径
```
MMC → 收单管理 → 链接支付 → 创建链接
```

#### 创建步骤

**(a) 创建链接**
- 进入链接支付管理页面
- 点击"创建链接"按钮

**(b) 录入订单信息**

必填信息包括：
- **收单国家/地区**：选择支付发生的国家或地区
- **订单金额**：商品单价 × 商品数量
- **订单描述**：在链接页面展示给用户，可以是商品的描述信息或者收款目的等
- **链接有效期**：设置链接的有效时间

可选信息：
- **链接备注**：不展示给用户，会通过回调信息回调给商户，对应API字段为`linkDescription`

**订单金额计算：**
```
订单金额 = 商品单价 × 商品数量
```

**字段说明：**
- **订单描述**：展示给用户，用于说明支付目的
- **链接备注**：仅商户可见，用于内部备注和回调识别

**(c) 生成链接/二维码**
- 系统自动生成支付链接URL
- 同时生成对应的二维码图片
- 支持下载二维码
- 支持复制链接

**(d) 发送至用户完成支付**

**线上发送方式：**
- 📧 邮件发送链接
- 📱 短信发送链接
- 💬 社交媒体分享（微信、WhatsApp等）
- 📋 复制链接直接发送

**线下展示方式：**
- 🖨️ 打印二维码
- 📱 手机/平板展示二维码
- 🖥️ 电脑屏幕展示二维码
- 📄 二维码贴纸/海报

### 4.2 API创建

PayerMax同时也支持商户通过API方式创建/维护链接支付，详情请参阅[链接支付集成文档](https://docs.payermax.com/paybylink/integration)。

#### API创建优势

**自动化：**
- 批量创建链接
- 系统自动生成
- 集成到业务流程
- 减少人工操作

**灵活性：**
- 动态生成链接
- 自定义参数
- 实时创建
- 程序化管理

**可扩展：**
- 支持大规模创建
- 与现有系统集成
- 自动化工作流
- API管理和监控

#### API接口

**创建支付链接：**
```http
POST /createPaybylink
```

**查询链接详情：**
```http
POST /queryPaybylink
```

**失效支付链接：**
```http
POST /expirePaybylink
```

#### API创建示例

```javascript
// 创建支付链接
const response = await payermax.createPaybylink({
  outTradeNo: "ORDER123456",
  subject: "MacBook Pro 14",
  totalAmount: "199900",
  currency: "USD",
  country: "US",
  expireTime: "2024-12-31T23:59:59+00:00",
  linkDescription: "Internal order reference"
});

// 获取链接和二维码
const paymentUrl = response.data.paymentUrl;
const qrCodeUrl = response.data.qrCodeUrl;
```

## 5. 链接管理

### 5.1 链接状态

| 状态 | 说明 |
|------|------|
| ACTIVE | 链接有效，可以使用 |
| PAID | 已支付完成 |
| EXPIRED | 已过期，不可使用 |
| CANCELLED | 已取消，不可使用 |

### 5.2 链接有效期

**设置建议：**
- 临时订单：1-24小时
- 服务预订：1-7天
- 账单支付：7-30天
- 长期有效：根据业务需求

**过期处理：**
- 链接过期后自动失效
- 用户访问显示过期提示
- 可重新生成新链接
- 支持延长有效期（API方式）

### 5.3 链接安全

**安全机制：**
- 唯一链接标识
- 有效期限制
- 一次性支付（可配置）
- 防重复支付
- 支付金额锁定

**防欺诈：**
- 链接访问监控
- 异常行为检测
- 支付风控
- 实名验证（可选）

## 6. 链接支付 vs 其他模式

| 对比维度 | 链接支付 | 收银台模式 | 纯API模式 | 前置组件 |
|---------|---------|-----------|----------|---------|
| **技术集成** | 无需/简单 | 简单 | 复杂 | 中等 |
| **开发时间** | 0-0.5天 | 1-2天 | 3-5天 | 2-3天 |
| **适用场景** | 社交电商、线下转线上 | 标准电商 | 自定义收银台 | 页面内支付 |
| **分享便捷性** | 最高 | 低 | 低 | 低 |
| **用户体验** | 简单直接 | 标准 | 可定制 | 流畅 |
| **管理方式** | 后台/API | API | API | API |
| **二维码支持** | ✅ | ❌ | ❌ | ❌ |

## 7. 最佳实践

### 7.1 链接创建

- 设置合理的有效期
- 填写清晰的订单描述
- 使用有意义的备注信息
- 记录链接创建日志

### 7.2 链接分享

**线上分享：**
- 使用短链接服务
- 添加友好的文案
- 包含订单信息摘要
- 提供客服联系方式

**线下展示：**
- 确保二维码清晰可扫
- 提供扫码指引
- 标注支付金额
- 展示商家信息

### 7.3 用户体验

- 优化链接页面加载速度
- 提供清晰的订单信息
- 支持多语言
- 移动端友好

### 7.4 安全建议

- 定期清理过期链接
- 监控异常访问
- 验证支付通知
- 保护敏感信息

## 8. 常见问题

### Q1: 链接可以重复使用吗？
A: 默认情况下，链接支付完成后即失效。如需重复使用，需要在创建时特别配置。

### Q2: 链接有效期最长多久？
A: 建议根据业务场景设置，一般不超过30天。具体限制请咨询PayerMax。

### Q3: 可以修改已创建的链接吗？
A: 已创建的链接金额和订单信息不可修改。如需修改，请创建新链接。

### Q4: 支持哪些支付方式？
A: 支持PayerMax收银台的所有支付方式，包括卡支付、钱包支付等。

### Q5: 如何追踪链接的使用情况？
A: 可通过商户后台查看链接状态，或通过API查询链接详情。

## 9. 下一步

- 查看[链接支付集成文档](https://docs.payermax.com/paybylink/integration)
- 体验[在线DEMO](https://demo.payermax.com/paybylink)
- 了解[API接口文档](https://docs.payermax.com/api-reference/createPaybylink)
- 登录[商户后台](https://mmc.payermax.com)创建链接
- 查看[最佳实践指南](https://docs.payermax.com/paybylink/best-practices)
