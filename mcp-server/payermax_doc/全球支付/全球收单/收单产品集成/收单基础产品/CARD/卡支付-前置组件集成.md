# 卡支付-前置组件集成

该文档介绍前置组件支付下，使用银行卡支付的集成要求。

通过前置组件集成卡支付时，商户无需具备PCI认证资质，因为支付过程中的用户信息（如：用户名、银行卡号、CVV等）等敏感信息，均由PayerMax组件收集托管。

## 1. 集成准备

查看前置组件支付-集成准备。

## 2. 交互流程

相比于前置组件支付通用流程主要的差异在于：

- 卡支付时，用户可能需要完成额外的3DS认证流程

## 3. 接口列表

查看前置组件支付-接口列表。

## 4. 环境信息

- **测试环境**: `https://pay-gate-uat.payermax.com/aggregate-pay/api/gateway/<接口PATH>`
- **集成环境**: `https://pay-gate.payermax.com/aggregate-pay/api/gateway/<接口PATH>`

## 5. 集成步骤

### 5.1 获取前置组件初始化信息

查看前置组件支付-获取前置组件初始化信息。

### 5.2 渲染前置组件

查看前置组件支付-渲染前置组件。

### 5.3 创建支付

查看前置组件支付-创建支付。

#### 关键特性
- 可以通过请求参数 `data.paymentDetail.allowedCardOrg` 指定卡组
- 不同国家下卡支付的卡组信息，请查看支付方式列表
- 前置组件下，支持使用推荐卡进行支付

### 5.4 完成3DS认证

前置组件下，直接使用PayerMax 3DS服务，PayerMax依据内部风控结果，决策是否发起3DS认证流程，商户无须额外的集成工作。

### 5.5 获取支付结果

查看前置组件支付-获取支付结果。

## 6. 测试上线

### 初步测试
在商户完成上述集成步骤后，可以发起实际支付请求进行初步测试验证，具体步骤请查看集成测试-发起测试。

### 验收流程
在测试通过后，最终发布上线前，须联系PayerMax技术支持，提交测试的订单信息，以便于PayerMax检查请求日志和数据，确认您已经正确集成相关能力，具体步骤请查看集成测试-发起验收。

### 上线准备
验收通过后，商户可以配置生产环境的集成信息，并准备开量事宜。

另外，在收单产品集成下有PayerMax支持的各类支付方式的集成文档，其中包含每种支付方式的测试上线说明。

## 7. 错误排除

### 错误码查询
测试或验收过程中的响应错误，可以查看错误排查-错误码。

### 常见问题
在常见问题中，总结列举各类常见的问题及其处理方式。

### 技术支持
您还可以直接联系PayerMax技术支持团队，咨询集成、测试、验收过程中的任何问题。
